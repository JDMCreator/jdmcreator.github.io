<!doctype>
<html>

<head>
	<title>Shape</title>
	<style>
		.bside {
			position: absolute;
			width: 250px;
			top: 150px;
			height: 250px;
			left: 100px;
			opacity: 0.5;
			background: green;
		}
		
		.aside {
			position: absolute;
			width: 50px;
			top: 125px;
			height: 50px;
			left: 800px;
			opacity: 0.5;
			background: purple;
		}
		
		pre {
			background: whitesmoke;
			padding: 5px;
			border-radius: 5px;
			margin: 10px;
		}
	</style>
	<script type="text/javascript" src="hypher.js"></script>
	<script type="text/javascript" src="shape.js"></script>
	<script type="text/javascript">
		window.onload = function() {
			var hypherInstance = new Hypher(Hypher.latin);
			var time = +new Date(),
				over = 0;
			window.shape1 = SHAPE({
				top: 150,
				left: 100,
				width: 250,
				height: 250,
				margin: 15,
				hyphenation: SHAPE.HYPHENATION.HYPHER(hypherInstance)
			})
			window.requestAnimationFrame(function() {
				shape1.applyToNodes(document.body);
				over++;
				if (over > 1) {
					document.getElementById('time').innerHTML = (+new Date()) - time;
				}
			});
			window.shape2 = SHAPE({
				top: 125,
				left: 800,
				width: 50,
				height: 50,
				margin: 15
			})
			window.requestAnimationFrame(function() {
				shape2.applyToNodes(document.querySelectorAll("p"));
				over++;
				if (over > 1) {
					document.getElementById('time').innerHTML = (+new Date()) - time;
				}
			});
		}
	</script>
</head>

<body>
	<div id="info" style="border-bottom: 1px solid black;padding-bottom:3px;">
	Total loading time : <span id="time">?</span>ms | <a href="#code">Code for this example</a> | 
	<button onclick="shape1.remove()">Un-apply invisible shape under green block</button>
	</div>
	<div class="aside"></div>
	<div class="bside"></div>
	<h1>HTML Ipsum Presents</h1>

	<p><strong>Pellentesque habitant morbi tristique</strong> senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies
		eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. <em>Aenean ultricies mi vitae est.</em> Mauris placerat eleifend leo. Quisque sit amet
		est et sapien ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, <code>commodo vitae</code>, ornare sit amet, wisi. Aenean fermentum, elit eget tincidunt
		condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui. <a href="#">Donec non enim</a> in turpis pulvinar facilisis. Ut felis.</p>

	<h2>Header Level 2</h2>

	<ol>
		<li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
		<li>Aliquam tincidunt mauris eu risus.</li>
	</ol>

	<blockquote>
		<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus magna. Cras in mi at felis aliquet congue. Ut a est eget ligula molestie gravida. Curabitur massa.
			Donec eleifend, libero at sagittis mollis, tellus est malesuada tellus, at luctus turpis elit sit amet quam. Vivamus pretium ornare est.</p>
	</blockquote>

	<h3>Header Level 3</h3>

	<ul>
		<li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>
		<li>Aliquam tincidunt mauris eu risus.</li>
	</ul>

	<pre><code>
#header h1 a { 
	display: block; 
	width: 300px; 
	height: 80px; 
}
</code></pre>
	<hr> <div id="code">Code for this example :</div>

	<pre>
window.onload = function() {
	var hypherInstance = new Hypher(Hypher.latin);

	// Green block
	window.shape1 = SHAPE({
		top: 150,
		left: 100,
		width: 250,
		height: 250,
		margin: 15,
		hyphenation: SHAPE.HYPHENATION.HYPHER(hypherInstance)
	})
	window.requestAnimationFrame(function() {
		shape1.applyToNodes(document.body);
	});

	// Purple block
	window.shape2 = SHAPE({
		top: 125,
		left: 800,
		width: 50,
		height: 50,
		margin: 15
	})
	window.requestAnimationFrame(function() {
		shape2.applyToNodes(document.querySelectorAll("p"));
	});
}
</pre>
</body>

</html>
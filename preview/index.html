<!doctype html>
<html>

<head>
<meta charset="UTF-8"> 
	<title>LaTeX Tables Editor</title>
	<link href="css.css" rel="stylesheet">
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<script type="text/javascript" src="js/jquery.min.js">
	</script>
	<script type="text/javascript" src="js/bootstrap.min.js">
	</script>
	<script type="text/javascript" src="table.js">
	</script>
	<script type="text/javascript" src="js.js"></script>
	<script type="text/javascript" src="toMarkdown.js">
	</script>
	<script type="text/javascript" src="toTeX.js">
	</script>
	<script type="text/javascript" src="toHTML.js">
	</script>
</head>

<body>
<div class="container-fluid">
<div class="row">
  <div class="col-md-8">
<div class="alert alert-info" role="alert" style="margin:3px;">
  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
<span class="glyphicon glyphicon-info-sign"></span> <strong>Preview.</strong> You are now using a preview version of our upcoming Open Source LaTeX table editor. Please report any issues <a href="https://github.com/JDMCreator/LaTeXTableEditor/issues">here</a>.</div>
<p class="text-right"><a href="https://github.com/JDMCreator/LaTeXTableEditor/issues">Comments/Requests/Issues</a></p>
<div class="row">
<div class="col-md-12">
<div style="height:50px;margin-bottom:10px;"><img src="logo.png" height="50"><span style="
	font-size:30px;
	vertical-align:top;
	display:inline-block;
	line-height:70px;
	padding-left:5px;
">L<span style="    font-size: 75%;
    vertical-align: 0.45ex;
    margin-left: -0.36em;
    margin-right: -0.125em;text-transform:uppercase;">a</span>T<span style="    display: inline-block;
    font-size: 87%;
    line-height: 0;
    text-transform: uppercase;
    vertical-align: -0.45ex;margin-left:-0.15em;margin-right:-0.07em;">e</span>X Complex Table Editor <small style="font-size:14px;">With <a href="https://github.com/JDMCreator/Table.js">Table.js</a></small></span></div>
</div>
</div>
		<nav>

			<!-- Nav tabs -->
			<ul class="nav nav-tabs" role="tablist">
				<li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">Home</a></li>
				<li role="presentation"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">Rows/Columns</a></li>
				<li role="presentation"><a href="#messages" aria-controls="messages" role="tab" data-toggle="tab">Borders</a></li>
				<li role="presentation"><a href="#settings" aria-controls="settings" role="tab" data-toggle="tab">Export settings</a></li>
			</ul>

			<!-- Tab panes -->
			<div class="tab-content">
				<div role="tabpanel" class="tab-pane active" id="home">
					<div class="btn-toolbar" style="margin:3px" role="toolbar" aria-label="...">
						<div class="btn-group" role="group" aria-label="New">
							<span data-target="#myModal" data-toggle="modal"><button type="button" data-toggle="tooltip" title="New table" class="btn btn-default" data-target="#myModal"><span class="glyphicon glyphicon-file"></span></button></span>
						</div><div class="btn-group" role="group" aria-label="New">
							<button type="button" data-toggle="tooltip" title="Save/Export to JSON" class="btn btn-default" onclick="table.saveToJSON()"><span class="glyphicon glyphicon-floppy-disk"></span></button>
							<button type="button" data-toggle="tooltip" title="Download LaTeX" class="btn btn-default" data-toggle="tooltip" onclick="table.prepareDownload()"><span class="glyphicon glyphicon-download-alt"></span></button>
						</div>
						<div class="btn-group" role="group" aria-label="...">
							<button type="button" data-toggle="tooltip" title="Edit mode" class="btn btn-default active" id="button-mode-edit" onclick="table.mode(0)"><span class="glyphicon glyphicon-pencil"></span></button>
							<button type="button" data-toggle="tooltip" title="View mode" class="btn btn-default" id="button-mode-view" onclick="table.mode(1)"><span class="glyphicon glyphicon-eye-open"></span></button>
							<button type="button" data-toggle="tooltip" title="Border editor mode" class="btn btn-default" id="button-mode-border" onclick="table.mode(2)"><span class="glyphicon glyphicon-unchecked"></span></button>
						</div>
						<div class="btn-group" role="group" aria-label="...">
							<button type="button" data-toggle="tooltip" title="Bold" class="btn btn-default" onmousedown="event.preventDefault()" onclick="document.execCommand('bold',false,null);return false;"><span class="glyphicon glyphicon-bold"></span></button>
							<button type="button" class="btn btn-default" data-toggle="tooltip" title="Italic" onmousedown="event.preventDefault()" onclick="document.execCommand('italic',false,null);return false;"><span class="glyphicon glyphicon-italic"></span></button>
							<button type="button" class="btn btn-default" data-toggle="tooltip" title="Equation" onmousedown="event.preventDefault()" onclick="table.insertEquation();return false;"><span class="glyphicon glyphicon-usd"></span></button>
						</div>
					</div>
				</div>
				<div role="tabpanel" class="tab-pane" id="profile">
					<div class="btn-toolbar" style="margin:3px" role="toolbar" aria-label="...">
						<div class="btn-group" role="group" aria-label="...">
							<button type="button" class="btn btn-default" onclick="table.insertColBefore()" data-toggle="tooltip" title="Insert a column before"><span class="glyphicon glyphicon-arrow-left"></span></button>
							<button type="button" class="btn btn-default" onclick="table.insertColAfter()" data-toggle="tooltip" title="Insert a column after"><span class="glyphicon glyphicon-arrow-right"></span></button>
							<button type="button" class="btn btn-default" onclick="table.insertRowOver()" data-toggle="tooltip" title="Insert a row over"><span class="glyphicon glyphicon-arrow-up"></span></button>
							<button type="button" class="btn btn-default" onclick="table.insertRowUnder()" data-toggle="tooltip" title="Insert a row under"><span class="glyphicon glyphicon-arrow-down"></span></button>
						</div>
						<div class="btn-group" role="group" aria-label="...">
							<button type="button" class="btn btn-default" onclick="table.removeRow()" data-toggle="tooltip" title="Delete rows"><span class="glyphicon glyphicon-remove"></span><span class="glyphicon glyphicon-resize-vertical"></span></button>
							<button type="button" class="btn btn-default" data-toggle="tooltip" onclick="table.removeCol()" title="Delete columns"><span class="glyphicon glyphicon-remove"></span><span class="glyphicon glyphicon-resize-horizontal"></span></button>
						</div>
						<div class="btn-group" role="group" aria-label="...">
							<button type="button" class="btn btn-default" onclick="table.merge()" data-toggle="tooltip" title="Merge cells"><span class="glyphicon glyphicon-resize-small" style="transform:rotate(45deg)"></span></button>
							<button type="button" class="btn btn-default" onclick="table.split()" data-toggle="tooltip" title="Split cells"><span class="glyphicon glyphicon-resize-full" style="transform:rotate(45deg)"></span></button>
						</div>
					</div>
				</div>
				<div role="tabpanel" class="tab-pane" id="messages">
					<div class="btn-toolbar" style="margin:3px" role="toolbar" aria-label="...">
						<div class="btn-group" role="group" aria-label="...">
							<button type="button" class="btn btn-default" onclick="table.setAllBorders()" data-toggle="tooltip" title="Add all borders"><span class="glyphicon glyphicon-unchecked"></span></button>
							<button type="button" class="btn btn-default" onclick="table.removeBorders()" data-toggle="tooltip" title="Remove all borders"><span class="glyphicon glyphicon-remove"></span></button>
						</div>
						<div class="btn-group" role="group" aria-label="...">
							<button type="button" class="btn btn-default" onclick="table.autoBooktabs()" data-toggle="tooltip" title="Automatic Booktabs" id="button-booktabs"><span class="glyphicon glyphicon-book"></span></button>
						</div>
					</div>
				</div>
				<div role="tabpanel" class="tab-pane" id="settings">
					<div style="max-width:500px">
						<div class="form-group">
							<label for="format">Output format</label>
							<select class="form-control" id="format" onchange='$("div[data-option-group]").hide();$("div[data-option-group=\""+this.value+"\"]").show()'>
	<option value="latex">LaTeX</option>
	<option value="plain">Plain TeX</option>
	<option value="md">Markdown</option>
	</select>
						</div>
						<div class="form-group" data-option-group="latex">
							<h4>LaTeX options</h4>
							<div class="input-group">
								<div class="input-group-addon"><span class="glyphicon glyphicon-tags"></span></div>
								<input type="text" class="form-control" id="label" placeholder="Label">
							</div>
							<h4>Packages</h4>
							<div class="row">
								<div class="col-md-6">
									<input type="checkbox" class="input-control" id="blacklist-array" value="array" checked disabled> <label for="blacklist-array">Array</label><br>
									<input type="checkbox" class="input-control" id="blacklist-arydshln" value="arydshln" checked disabled> <label for="blacklist-arydshln">Arydshln</label><br>
									<input type="checkbox" class="input-control" id="blacklist-booktabs" value="booktabs" checked disabled> <label for="blacklist-booktabs">Booktabs</label><br>
									<input type="checkbox" class="input-control" id="blacklist-diagbox" value="diagbox" checked> <label for="blacklist-diagbox">Diagbox</label>
								</div>
								<div class="col-md-6">
									<input type="checkbox" class="input-control" id="blacklist-makecell" value="makecell" checked> <label for="blacklist-makecell">Makecell</label><br>
									<input type="checkbox" class="input-control" id="blacklist-rotating" value="rotating" checked> <label for="blacklist-rotating">Rotating</label><br>
									<input type="checkbox" class="input-control" id="blacklist-slashbox" value="slashbox" checked> <label for="blacklist-slashbox">Slashbox</label><br>
									<input type="checkbox" class="input-control" id="blacklist-tabularx" value="tabularx" checked> <label for="blacklist-tabularx">Tabularx</label>
								</div>
							</div>
						</div>
						<div class="form-group" data-option-group="md" style="display:none;">
							<h4>Markdown options</h4>
							<div class="form-group">
							<label for="md-header">Number of headers' rows</label>
							<input type="number" value="1" min="0" class="form-control" id="md-header">
						</div>
						</div>
						<div class="form-group" data-option-group="plain" style="display:none;">
							<h4>Plain TeX options</h4>
						</div>
					</div>

				</div>
<hr>
		</nav>
		<div class="caption-container">
			<div class="input-group" style="max-width:400px">
				<div class="input-group-addon"><select id="caption-nb">
<option value=""></option>
<option value="*">*</option>
</select></div>
				<input id="caption" class="form-control" placeholder="Caption">
			</div>
		</div>
		<table id="table" style="border-collapse:separate;border-spacing:2px">
		</table>
<div>
<div class="alert alert-info" role="alert" style="display:none;" id="border-editor-info">
  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
<span class="glyphicon glyphicon-info-sign"></span> You are now using the border editor. Click on any border to activate or desactivate it. You can change the border style on the right panel.</div>
</div>
		<hr><center><button onclick="table.generate()" class="btn btn-default">Generate</button></center><br>
<div class="row">

<div class="col-md-8"><textarea id="c" class="form-control" style="width:100%;height:20%;min-height:300px;">
</textarea>
</div>
<div class="col-md-4">
<textarea id="log" class="form-control" style="width:100%;height:20%;min-height:300px;">Log
=========</textarea>
</div>
</div>
		</div>
  <div class="col-md-4" id="right">
			<div id="borders">
				<h3>Border Editor</h3>
				Type of border : <select id="border" class="form-control">
<option value="normal">[\hline] Default</option>
<option value="double">[\hline\hline] Double line</option>
<optgroup label="Booktabs">
<option value="toprule">[\toprule] Top rule</option>
<option value="midrule">[\midrule] Mid rule</option>
<option value="bottomrule">[\bottomrule] Bottom rule</option>
</optgroup>
<optgroup label="arydshln">
<option value="hdashline">[\hdashline] Dash line</option>
<option value="dottedline">[\hdashline[1pt/1pt]] Dotted line</option>
</optgroup>
</select>
			</div>
			<div id="properties">
				<h3>Cell properties</h3>
						<div class="btn-group" role="group" aria-label="...">
							<button type="button" class="btn btn-default active" id="info_align_left" onclick="table.setAlign('l')"><span class="glyphicon glyphicon-align-left"></span></button>
							<button type="button" class="btn btn-default" id="info_align_center" onclick="table.setAlign('c')"><span class="glyphicon glyphicon-align-center"></span></button>
							<button type="button" class="btn btn-default" id="info_align_right" onclick="table.setAlign('r')"><span class="glyphicon glyphicon-align-right"></span></button>
						</div>
					<h6>Margins</h6>
					Left margin : <input value="3pt" id="info_left_margin" oninput="table.setMargin(true, this.value);" disabled><br> Right margin : <input value="3pt" id="info_right_margin"
					 oninput="table.setMargin(false, this.value);" disabled><br>
					<h6>Effects</h6>
					<div>
						<div class="btn-group" role="group" aria-label="...">
							<button type="button" class="btn btn-default active" id="info_diag_zero" onclick="table.separators(0)"><img src="diag-zero.png"></button>
							<button type="button" class="btn btn-default" id="info_diag_one" onclick="table.separators(1)"><img src="diag-one.png"></button>
							<button type="button" class="btn btn-default" id="info_diag_two" onclick="table.separators(2)"><img src="diag-two.png"></button>
						</div>
					</div>
					<input type="checkbox" id="info_rotated" onchange="table.rotate(this.checked)"> Rotated cell<br>
					<h6>LaTeX Content</h6>
					<textarea id="latex_content" class="form-control"></textarea>
			</div>
		</div>
</div>
</div>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Create a new table</h4>
      </div>
      <div class="modal-body">
        <div class="row">
		<div class="col-md-6 text-center">
<center>			<table id="create_table">
			</table></center>

<p>- or -</p>
<div class="form-inline"><div>
  <div class="form-group">
    <input type="number" class="form-control" style="width:80px;" id="col" placeholder="x" min="1">
  </div> x
  <div class="form-group">
    <input type="number" class="form-control" style="width:80px;" id="row" placeholder="y" min="1">
  </div></div>
  <button type="button" class="btn btn-primary" onclick="table.create($id('col').value, $id('row').value);$('#myModal').modal('hide')">Create</button>
</div>
		</div>
		<div class="col-md-6">
			<div class="form-group">
				<select class="form-control">
					<option value="json">JSON</option>
				</select></div>
			<div class="form-group">
				<textarea class="form-control" id="import_value" placeholder="Content of your file to import"></textarea>
			</div><div class="text-center">
			<button type="button" class="btn btn-primary" onclick="table.importFromJSON(JSON.parse($id('import_value').value))$('#myModal').modal('hide')">Import the content of a file</button></div>
<p class="text-center">- or -</p>
<p>Paste here a table from a webpage, a Word document, an Excel document or an OpenOffice document.</p>
<div class="form-control" contenteditable id="extract-div" style="height:auto;max-height:300px;"></div>
			<button type="button" class="btn btn-primary" onclick="table.extract($id('extract-div'));$('#myModal').modal('hide')">Extract content</button>
		</div>
	</div>
	</div>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="download" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Download</h4>
      </div>
      <div class="modal-body">
		<a href="" download="table.tex" style="line-height:100%" id="link-download">Click to download your .tex file</a>
      </div>
    </div>
  </div>
</div>

		<script type="text/javascript">
		$(function(){
			$('nav a')
				.click(function(e) {
					e.preventDefault()
					$(this)
						.tab('show')
				})
			
			$('[data-toggle="tooltip"]').tooltip();
			table.load($id('table'));
			var json = localStorage.getItem("table");
			if(json){
				try{
					table.importFromJSON(JSON.parse(json));
				}
				catch(e){
					table.create(4, 4);
				}
			}
			else{
				table.create(4, 4);
			}
			var format = localStorage.getItem("table_format")
			if(format){
				$id("format").value = format;
			}
			function createTableCreater(){
				var table = $id("create_table"),
				frag = document.createDocumentFragment();
				for(var i=0;i<8;i++){
					var tr = document.createElement("tr");
					for(var j=0;j<8;j++){
						var td = document.createElement("td");
						td.dataset.row = i+1;
						td.dataset.col = j+1;
						td.addEventListener("mouseenter", createTableHover, false);
						td.addEventListener("click", function(){
							window.table.create(this.dataset.col, this.dataset.row);
							$("#myModal").modal('hide')
						}, false);
						tr.appendChild(td);
					}
					frag.appendChild(tr);
				}
				table.appendChild(frag);
			}
			function createTableHover(){
				var row = this.dataset.row;
				var col = this.dataset.col;
				var selected = document.querySelectorAll("#create_table td");
				for(var i=0;i<selected.length;i++){
					var elem = selected[i];
					if(elem.dataset.row <= row && elem.dataset.col <= col){
						elem.classList.add("selected");
					}
					else{
						elem.classList.remove("selected");
					}
				}
			}
			createTableCreater();
		});
		</script>
</body>

</html>